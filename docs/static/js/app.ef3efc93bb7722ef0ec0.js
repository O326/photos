webpackJsonp([1],{"6m0r":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("VU/8")({name:"App"},a,!1,function(t){n("gsu9")},null,null).exports,s=n("/ocq"),r={name:"PhotoSwiper",props:{item:{type:Object},swiperOption:{type:Object,default:function(){return{spaceBetween:30,effect:"fade",pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}}},data:function(){return{}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"photo-swiper"},[n("swiper",{attrs:{options:t.swiperOption}},[t._l(t.item.imgs,function(e,i){return n("swiper-slide",{key:i},[n("img",{staticClass:"swiper-img",attrs:{src:e,alt:t.item.title}})])}),t._v(" "),n("div",{staticClass:"swiper-pagination swiper-pagination-white",attrs:{slot:"pagination"},slot:"pagination"}),t._v(" "),n("div",{staticClass:"swiper-button-prev swiper-button-white",attrs:{slot:"button-prev"},slot:"button-prev"}),t._v(" "),n("div",{staticClass:"swiper-button-next swiper-button-white",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)},staticRenderFns:[]};var c=n("VU/8")(r,p,!1,function(t){n("6m0r")},"data-v-630e5eeb",null).exports,l=n("//Fk"),u=n.n(l),d=n("aozt"),v=n.n(d);function f(){return t="//webhostapi.000webhostapp.com/database/blog/query.php",new u.a(function(e,n){return v.a.get(t).then(function(t){200===t.status?e(t.data):n(t)}).catch(function(t){n(t)})});var t}var m={name:"Home",components:{PhotoSwiper:c},data:function(){return{blogs:[]}},mounted:function(){var t=this;f().then(function(e){t.blogs=e.map(function(t){return{id:t.id,created_at:t.created_at,updated_at:t.updated_at,title:t.title,type:t.type,content:t.content,imgs:JSON.parse(t.imgs_json),location:t.location}})}).catch(function(t){console.error(t)})}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home-page"},[e("header",[e("h1",[this._v("全锋的相册")]),this._v(" "),e("p",[this._v("发现美丽瞬间 用心体验生活")]),this._v(" "),e("div",{staticClass:"photo-content"},this._l(this.blogs,function(t){return e("photo-swiper",{key:t.id,attrs:{item:t}})}))])])},staticRenderFns:[]};var h=n("VU/8")(m,g,!1,function(t){n("wls7")},"data-v-4bc72f32",null).exports,w=n("9CKM"),_="#1BA7DE",b="#FF0000",C="http://pdtqbf99x.bkt.clouddn.com/",y={name:"Upload",data:function(){return{logo:"//qiniu.staticfile.org/static/images/qiniu_logo.5249e634.png",title:"七牛云图片上传",btnText:"选择文件",uploadPercent:"0%",uploadOpacity:1,uploadColor:_,previewImg:""}},mounted:function(){var t=this;v.a.get("//webhostapi.000webhostapp.com/qiniu-api/upload-tokens.php").then(function(e){t.initFileInput(e.data)})},methods:{initFileInput:function(t){var e={useCdnDomain:!0,region:w.region.z2},n={fname:"",params:{},mimeType:null},i=this;$("#select").change(function(){var a=this.files[0],o=a.name,s=w.upload(a,o,t,n,e);i.uploadColor=_;s.subscribe(function(t){var e=t.total.percent+"%";i.uploadPercent=e,i.uploadOpacity=.6},function(){i.uploadPercent="100%",i.uploadOpacity=.4,i.uploadColor=b,i.btnText="网络错误请重试"},function(t){console.log(t),setTimeout(function(){i.uploadOpacity=0},1e3),i.getImageInfo(t),i.previewImg=C+t.key})})},getImageInfo:function(t){w.exif(t.key,C).then(function(t){console.log(t)})},onCopyImgUrl:function(){}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-page"},[n("img",{staticClass:"logo",attrs:{src:t.logo,alt:t.title}}),t._v(" "),n("h1",[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"upload-box"},[n("span",[t._v(t._s(t.btnText))]),t._v(" "),n("div",{staticClass:"file-progress",style:{width:t.uploadPercent,opacity:t.uploadOpacity,background:t.uploadColor}}),t._v(" "),n("input",{staticClass:"file-input",attrs:{type:"file",id:"select"}})]),t._v(" "),n("div",{staticClass:"preview-box"},[n("div",{staticClass:"preview-img",on:{click:t.onCopyImgUrl}},[n("img",{attrs:{src:t.previewImg,alt:t.previewImg,height:"100%"}})]),t._v(" "),n("p",[n("a",{attrs:{href:t.previewImg}},[t._v(t._s(t.previewImg))])])])])},staticRenderFns:[]};var I=n("VU/8")(y,x,!1,function(t){n("SCPV")},"data-v-23a9a3d2",null).exports;i.a.use(s.a);var O=new s.a({routes:[{path:"/",name:"Home",component:h},{path:"/upload",name:"Upload",component:I}]}),k=n("DMPO"),P=n.n(k);n("Wtgt");i.a.config.productionTip=!1,i.a.use(P.a),new i.a({el:"#app",router:O,components:{App:o},template:"<App/>"})},SCPV:function(t,e){},Wtgt:function(t,e){},gsu9:function(t,e){},wls7:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ef3efc93bb7722ef0ec0.js.map